---
title: 网站优化
date: 2016/11/5
---

今天周六不用加班，生物钟的力量不容忽视，早晨照样七点多就醒了，好在机制的我睡了一个回笼觉，不过每次睡回笼觉醒了都是头晕脑胀。
吃完午饭开始犯困的时候，手冲了一杯咖啡，准备开始优化一下自己的博客，毕竟域名不能白买了。
谁承想，这 hexo 用 Travis 自动编译的坑这么多。  

## 主题配置不生效
优化的主要方向是想着先小改小动，增加些社交网站的链接，增加个 favicon 和头像啥的。但折腾来折腾去发现主题的配置文件就是死活不生效。
才发现是 iCloud 的坑，自从更新 macOS sierra 之后，把「桌面」和「文稿」文件放进 iCloud 里之后，iCloud旁边的进度就没有走完过，永远都是停滞在最后一兆上传中。今天这主题配置文件不生效，才发现时 iCloud 自动把我的文件上传到云端，美其名曰「优化 Mac 存储空间」，可我的 Git 本地仓库放在了 「文稿」里，每次 Push 都把配置文件忽略掉了。
发现之后，果断把「桌面」和「文稿」从 iCloud 中移除了。然后把 200G 的方案降级回了 50G 的方案。每个月还省点钱。
iCloud的坑填完之后，发现主题配置文件还是不行。Google 之后直到原来 Travis 在自动编译的过程中，每次都会从 Git 克隆，重新安装一遍主题，自然主题配置文件不会生效。
继续 Google 之后，找到了用 gitmodules 的方法，可配置来配置去依然不行。但这过程中，脑子不好使的我也开窍了。直接把主题文件另外创建一个仓库，在 Travis 的配置文件中设置成每次从我的仓库安装主题。结果方法还真搞定了。
至此一下午，四五个小时，全花在这上边了。
## 慢慢来
作为一个产品经理，能折腾成这样不容易了，还是得安慰一下。不过这不断的爬坑填坑的过程，其实就是一个比较笨的自学过程。有 Google 当老师，基本上我碰到的所有问题，都已经有人碰到过了，而且他们比我更勤奋，把碰到的问题都详细的写成 step by step 的博客，来帮助其他人，比如我。
